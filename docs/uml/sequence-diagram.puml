@startuml
actor User
participant Browser
participant "LoginController" as Login
participant "UserModel" as UserM
participant "DashboardController" as Dashboard
participant "MonitoringController" as Monitor
participant "monitorModel" as MonM

User -> Browser : Access Login Page
Browser -> Login : GET /?page=login
Login -> Browser : Render Login View

User -> Browser : Enter Credentials (email, password)
Browser -> Login : POST /?page=login
Login -> UserM : verifyCredentials(email, password)
activate UserM
UserM --> Login : User Data (or null)
deactivate UserM

alt Credentials Valid
    Login -> Login : Set Session Variables
    Login -> Browser : Redirect to /?page=dashboard
    
    Browser -> Dashboard : GET /?page=dashboard
    Dashboard -> Browser : Render Dashboard View
    
    User -> Browser : Click "Suivi Patient" (Monitoring)
    Browser -> Monitor : GET /?page=monitoring
    Monitor -> MonM : getLatestMetricsForPatient(id)
    activate MonM
    MonM --> Monitor : Metrics Data
    deactivate MonM
    
    Monitor -> Browser : Render Monitoring View (with Charts)
else Credentials Invalid
    Login -> Browser : Redirect to /?page=login (Error)
end

@enduml
